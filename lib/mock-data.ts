import { Product } from './types';

export const mockProducts: Product[] = [
  {
    id: '1',
    image: 'https://images.unsplash.com/photo-1570129477492-45c003edd2be',
    price: 'Rp 7.500.000.000',
    description: 'Modern Minimalist House with Garden',
    location: 'Jakarta Selatan, DKI Jakarta',
    propertyType: 'house',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 4,
    bathrooms: 3,
    squareFootage: 350,
    yearBuilt: 2020,
    createdAt: new Date('2023-01-15'),
  },
  {
    id: '2',
    image: 'https://images.unsplash.com/photo-1580587771525-78b9dba3b914',
    price: 'Rp 15.250.000.000',
    description: 'Luxury Penthouse with City View',
    location: 'Jakarta Pusat, DKI Jakarta',
    propertyType: 'penthouse',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 5,
    bathrooms: 4,
    squareFootage: 450,
    yearBuilt: 2021,
    createdAt: new Date('2023-02-20'),
  },
  {
    id: '3',
    image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750',
    price: 'Rp 5.750.000.000',
    description: 'Cozy Apartment near Shopping Center',
    location: 'Bandung, Jawa Barat',
    propertyType: 'apartment',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 2,
    bathrooms: 2,
    squareFootage: 120,
    yearBuilt: 2019,
    createdAt: new Date('2023-03-10'),
  },
  {
    id: '4',
    image: 'https://images.unsplash.com/photo-1574362848149-11496d93a7c7',
    price: 'Rp 12.000.000.000',
    description: 'Beachfront Villa with Private Pool',
    location: 'Kuta, Bali',
    propertyType: 'villa',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 4,
    bathrooms: 4,
    squareFootage: 400,
    yearBuilt: 2018,
    createdAt: new Date('2023-04-05'),
  },
  {
    id: '5',
    image: 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9',
    price: 'Rp 8.900.000.000',
    description: 'Modern Townhouse with Garden',
    location: 'Surabaya, Jawa Timur',
    propertyType: 'townhouse',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 3,
    bathrooms: 3,
    squareFootage: 280,
    yearBuilt: 2022,
    createdAt: new Date('2023-05-15'),
  },
  {
    id: '6',
    image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c',
    price: 'Rp 6.500.000.000',
    description: 'Contemporary Condo in Business District',
    location: 'Jakarta Selatan, DKI Jakarta',
    propertyType: 'condo',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 2,
    bathrooms: 2,
    squareFootage: 150,
    yearBuilt: 2021,
    createdAt: new Date('2023-06-20'),
  },
  {
    id: '7',
    image: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3',
    price: 'Rp 22.000.000.000',
    description: 'Luxury Villa with Mountain View',
    location: 'Bandung, Jawa Barat',
    propertyType: 'villa',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 6,
    bathrooms: 5,
    squareFootage: 600,
    yearBuilt: 2020,
    createdAt: new Date('2023-07-10'),
  },
  {
    id: '8',
    image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c',
    price: 'Rp 4.200.000.000',
    description: 'Compact Studio Apartment',
    location: 'Jakarta Pusat, DKI Jakarta',
    propertyType: 'apartment',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 1,
    bathrooms: 1,
    squareFootage: 45,
    yearBuilt: 2022,
    createdAt: new Date('2023-08-15'),
  },
  {
    id: '9',
    image: 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde',
    price: 'Rp 9.800.000.000',
    description: 'Family House with Large Backyard',
    location: 'Surabaya, Jawa Timur',
    propertyType: 'house',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 4,
    bathrooms: 3,
    squareFootage: 320,
    yearBuilt: 2019,
    createdAt: new Date('2023-09-20'),
  },
  {
    id: '10',
    image: 'https://images.unsplash.com/photo-1600585154526-990dced4db0d',
    price: 'Rp 18.500.000.000',
    description: 'Premium Penthouse with Ocean View',
    location: 'Denpasar, Bali',
    propertyType: 'penthouse',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 4,
    bathrooms: 4,
    squareFootage: 400,
    yearBuilt: 2023,
    createdAt: new Date('2023-10-01'),
  },
  {
    id: '11',
    image: 'https://images.unsplash.com/photo-1580587771525-78b9dba3b914',
    price: 'Rp 6.900.000.000',
    description: 'Modern Villa with Pool in Ubud',
    location: 'Ubud, Bali',
    propertyType: 'villa',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 3,
    bathrooms: 3,
    squareFootage: 300,
    yearBuilt: 2021,
    createdAt: new Date('2023-10-15'),
  },
  {
    id: '12',
    image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750',
    price: 'Rp 3.800.000.000',
    description: 'Cozy Townhouse near MRT',
    location: 'Jakarta Selatan, DKI Jakarta',
    propertyType: 'townhouse',
    whatsappLink: 'https://wa.me/1234567890',
    bedrooms: 2,
    bathrooms: 2,
    squareFootage: 150,
    yearBuilt: 2022,
    createdAt: new Date('2023-10-20'),
  },
  // {
  //   id: '13',
  //   image: 'https://images.unsplash.com/photo-1574362848149-11496d93a7c7',
  //   price: 'Rp 9.200.000.000',
  //   description: 'Luxury Apartment with City Skyline View',
  //   location: 'Jakarta Pusat, DKI Jakarta',
  //   propertyType: 'apartment',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 3,
  //   bathrooms: 2,
  //   squareFootage: 180,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2023-10-25'),
  // },
  // {
  //   id: '14',
  //   image: 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9',
  //   price: 'Rp 25.500.000.000',
  //   description: 'Exclusive Penthouse with Private Elevator',
  //   location: 'Surabaya, Jawa Timur',
  //   propertyType: 'penthouse',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 4,
  //   squareFootage: 500,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2023-11-01'),
  // },
  // {
  //   id: '15',
  //   image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c',
  //   price: 'Rp 4.500.000.000',
  //   description: 'Modern Condo with Smart Home Features',
  //   location: 'Bandung, Jawa Barat',
  //   propertyType: 'condo',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 2,
  //   bathrooms: 1,
  //   squareFootage: 85,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2023-11-05'),
  // },
  // {
  //   id: '16',
  //   image: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3',
  //   price: 'Rp 7.800.000.000',
  //   description: 'Family House with Large Garden',
  //   location: 'Malang, Jawa Timur',
  //   propertyType: 'house',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 3,
  //   squareFootage: 300,
  //   yearBuilt: 2022,
  //   createdAt: new Date('2023-11-10'),
  // },
  // {
  //   id: '17',
  //   image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c',
  //   price: 'Rp 14.300.000.000',
  //   description: 'Beachfront Villa in Nusa Dua',
  //   location: 'Nusa Dua, Bali',
  //   propertyType: 'villa',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 5,
  //   bathrooms: 5,
  //   squareFootage: 450,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2023-11-15'),
  // },
  // {
  //   id: '18',
  //   image: 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde',
  //   price: 'Rp 5.600.000.000',
  //   description: 'Urban Apartment with Minimalist Design',
  //   location: 'Jakarta Selatan, DKI Jakarta',
  //   propertyType: 'apartment',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 2,
  //   bathrooms: 2,
  //   squareFootage: 110,
  //   yearBuilt: 2022,
  //   createdAt: new Date('2023-11-20'),
  // },
  // {
  //   id: '19',
  //   image: 'https://images.unsplash.com/photo-1600585154526-990dced4db0d',
  //   price: 'Rp 8.900.000.000',
  //   description: 'Contemporary House with Pool',
  //   location: 'Serpong, Tangerang',
  //   propertyType: 'house',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 3,
  //   squareFootage: 320,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2023-11-25'),
  // },
  // {
  //   id: '20',
  //   image: 'https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea',
  //   price: 'Rp 11.200.000.000',
  //   description: 'Luxury Townhouse in Premium Area',
  //   location: 'BSD, Tangerang',
  //   propertyType: 'townhouse',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 3,
  //   bathrooms: 3,
  //   squareFootage: 250,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2023-11-30'),
  // },
  // {
  //   id: '21',
  //   image: 'https://images.unsplash.com/photo-1570129477492-45c003edd2be',
  //   price: 'Rp 7.500.000.000',
  //   description: 'Modern Minimalist House with Garden',
  //   location: 'Jakarta Selatan, DKI Jakarta',
  //   propertyType: 'house',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 3,
  //   squareFootage: 350,
  //   yearBuilt: 2020,
  //   createdAt: new Date('2024-01-15'),
  // },
  // {
  //   id: '22',
  //   image: 'https://images.unsplash.com/photo-1580587771525-78b9dba3b914',
  //   price: 'Rp 15.250.000.000',
  //   description: 'Luxury Penthouse with City View',
  //   location: 'Jakarta Pusat, DKI Jakarta',
  //   propertyType: 'penthouse',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 5,
  //   bathrooms: 4,
  //   squareFootage: 450,
  //   yearBuilt: 2021,
  //   createdAt: new Date('2024-02-20'),
  // },
  // {
  //   id: '23',
  //   image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750',
  //   price: 'Rp 5.750.000.000',
  //   description: 'Cozy Apartment near Shopping Center',
  //   location: 'Bandung, Jawa Barat',
  //   propertyType: 'apartment',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 2,
  //   bathrooms: 2,
  //   squareFootage: 120,
  //   yearBuilt: 2019,
  //   createdAt: new Date('2024-03-10'),
  // },
  // {
  //   id: '24',
  //   image: 'https://images.unsplash.com/photo-1574362848149-11496d93a7c7',
  //   price: 'Rp 12.000.000.000',
  //   description: 'Beachfront Villa with Private Pool',
  //   location: 'Kuta, Bali',
  //   propertyType: 'villa',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 4,
  //   squareFootage: 400,
  //   yearBuilt: 2018,
  //   createdAt: new Date('2024-04-05'),
  // },
  // {
  //   id: '25',
  //   image: 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9',
  //   price: 'Rp 8.900.000.000',
  //   description: 'Modern Townhouse with Garden',
  //   location: 'Surabaya, Jawa Timur',
  //   propertyType: 'townhouse',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 3,
  //   bathrooms: 3,
  //   squareFootage: 280,
  //   yearBuilt: 2022,
  //   createdAt: new Date('2024-05-15'),
  // },
  // {
  //   id: '26',
  //   image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c',
  //   price: 'Rp 6.500.000.000',
  //   description: 'Contemporary Condo in Business District',
  //   location: 'Jakarta Selatan, DKI Jakarta',
  //   propertyType: 'condo',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 2,
  //   bathrooms: 2,
  //   squareFootage: 150,
  //   yearBuilt: 2021,
  //   createdAt: new Date('2024-06-20'),
  // },
  // {
  //   id: '27',
  //   image: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3',
  //   price: 'Rp 22.000.000.000',
  //   description: 'Luxury Villa with Mountain View',
  //   location: 'Bandung, Jawa Barat',
  //   propertyType: 'villa',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 6,
  //   bathrooms: 5,
  //   squareFootage: 600,
  //   yearBuilt: 2020,
  //   createdAt: new Date('2024-07-10'),
  // },
  // {
  //   id: '28',
  //   image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c',
  //   price: 'Rp 4.200.000.000',
  //   description: 'Compact Studio Apartment',
  //   location: 'Jakarta Pusat, DKI Jakarta',
  //   propertyType: 'apartment',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 1,
  //   bathrooms: 1,
  //   squareFootage: 45,
  //   yearBuilt: 2022,
  //   createdAt: new Date('2024-08-15'),
  // },
  // {
  //   id: '29',
  //   image: 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde',
  //   price: 'Rp 9.800.000.000',
  //   description: 'Family House with Large Backyard',
  //   location: 'Surabaya, Jawa Timur',
  //   propertyType: 'house',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 3,
  //   squareFootage: 320,
  //   yearBuilt: 2019,
  //   createdAt: new Date('2024-09-20'),
  // },
  // {
  //   id: '30',
  //   image: 'https://images.unsplash.com/photo-1600585154526-990dced4db0d',
  //   price: 'Rp 18.500.000.000',
  //   description: 'Premium Penthouse with Ocean View',
  //   location: 'Denpasar, Bali',
  //   propertyType: 'penthouse',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 4,
  //   squareFootage: 400,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2024-10-01'),
  // },
  // {
  //   id: '31',
  //   image: 'https://images.unsplash.com/photo-1580587771525-78b9dba3b914',
  //   price: 'Rp 6.900.000.000',
  //   description: 'Modern Villa with Pool in Ubud',
  //   location: 'Ubud, Bali',
  //   propertyType: 'villa',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 3,
  //   bathrooms: 3,
  //   squareFootage: 300,
  //   yearBuilt: 2021,
  //   createdAt: new Date('2024-10-15'),
  // },
  // {
  //   id: '32',
  //   image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750',
  //   price: 'Rp 3.800.000.000',
  //   description: 'Cozy Townhouse near MRT',
  //   location: 'Jakarta Selatan, DKI Jakarta',
  //   propertyType: 'townhouse',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 2,
  //   bathrooms: 2,
  //   squareFootage: 150,
  //   yearBuilt: 2022,
  //   createdAt: new Date('2024-10-20'),
  // },
  // {
  //   id: '33',
  //   image: 'https://images.unsplash.com/photo-1574362848149-11496d93a7c7',
  //   price: 'Rp 9.200.000.000',
  //   description: 'Luxury Apartment with City Skyline View',
  //   location: 'Jakarta Pusat, DKI Jakarta',
  //   propertyType: 'apartment',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 3,
  //   bathrooms: 2,
  //   squareFootage: 180,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2024-10-25'),
  // },
  // {
  //   id: '34',
  //   image: 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9',
  //   price: 'Rp 25.500.000.000',
  //   description: 'Exclusive Penthouse with Private Elevator',
  //   location: 'Surabaya, Jawa Timur',
  //   propertyType: 'penthouse',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 4,
  //   squareFootage: 500,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2024-11-01'),
  // },
  // {
  //   id: '35',
  //   image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c',
  //   price: 'Rp 4.500.000.000',
  //   description: 'Modern Condo with Smart Home Features',
  //   location: 'Bandung, Jawa Barat',
  //   propertyType: 'condo',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 2,
  //   bathrooms: 1,
  //   squareFootage: 85,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2024-11-05'),
  // },
  // {
  //   id: '36',
  //   image: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3',
  //   price: 'Rp 7.800.000.000',
  //   description: 'Family House with Large Garden',
  //   location: 'Malang, Jawa Timur',
  //   propertyType: 'house',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 3,
  //   squareFootage: 300,
  //   yearBuilt: 2022,
  //   createdAt: new Date('2024-11-10'),
  // },
  // {
  //   id: '37',
  //   image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c',
  //   price: 'Rp 14.300.000.000',
  //   description: 'Beachfront Villa in Nusa Dua',
  //   location: 'Nusa Dua, Bali',
  //   propertyType: 'villa',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 5,
  //   bathrooms: 5,
  //   squareFootage: 450,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2024-11-15'),
  // },
  // {
  //   id: '38',
  //   image: 'https://images.unsplash.com/photo-1600047509807-ba8f99d2cdde',
  //   price: 'Rp 5.600.000.000',
  //   description: 'Urban Apartment with Minimalist Design',
  //   location: 'Jakarta Selatan, DKI Jakarta',
  //   propertyType: 'apartment',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 2,
  //   bathrooms: 2,
  //   squareFootage: 110,
  //   yearBuilt: 2022,
  //   createdAt: new Date('2024-11-20'),
  // },
  // {
  //   id: '39',
  //   image: 'https://images.unsplash.com/photo-1600585154526-990dced4db0d',
  //   price: 'Rp 8.900.000.000',
  //   description: 'Contemporary House with Pool',
  //   location: 'Serpong, Tangerang',
  //   propertyType: 'house',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 4,
  //   bathrooms: 3,
  //   squareFootage: 320,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2024-11-25'),
  // },
  // {
  //   id: '40',
  //   image: 'https://images.unsplash.com/photo-1600566753086-00f18fb6b3ea',
  //   price: 'Rp 11.200.000.000',
  //   description: 'Luxury Townhouse in Premium Area',
  //   location: 'BSD, Tangerang',
  //   propertyType: 'townhouse',
  //   whatsappLink: 'https://wa.me/1234567890',
  //   bedrooms: 3,
  //   bathrooms: 3,
  //   squareFootage: 250,
  //   yearBuilt: 2023,
  //   createdAt: new Date('2024-11-30'),
  // }
];

interface FilterParams {
  query: string;
  propertyType: string;
  minPrice: string;
  maxPrice: string;
  sortByPrice: string;
  sortByDate: string;
  page: number;
  limit: number;
}

export class MockDataService {
  async getProducts(): Promise<Product[]> {
    return mockProducts;
  }

  async getProductById(id: string): Promise<Product | undefined> {
    return mockProducts.find(product => product.id === id);
  }

  async getFilteredProducts(params: FilterParams) {
    const parsePrice = (price: string) => parseInt(price.replace(/[^0-9]/g, ''), 10);
    
    const filtered = mockProducts.filter(product => {
      const matchesSearch = !params.query || product.location.toLowerCase().includes(params.query.toLowerCase());
      const matchesType = !params.propertyType || product.propertyType === params.propertyType;
      
      const price = parsePrice(product.price);
      const matchesMinPrice = !params.minPrice || price >= parseInt(params.minPrice);
      const matchesMaxPrice = !params.maxPrice || price <= parseInt(params.maxPrice);

      return matchesSearch && matchesType && matchesMinPrice && matchesMaxPrice;
    });

    // Sort the results
    if (params.sortByPrice) {
      filtered.sort((a, b) => {
        const priceA = parsePrice(a.price);
        const priceB = parsePrice(b.price);

        switch (params.sortByPrice) {
          case 'price-asc':
            return priceA - priceB;
          case 'price-desc':
            return priceB - priceA;
        }
      });
    }

    // Sort by date
    if (params.sortByDate) {
      filtered.sort((a, b) => {
        switch (params.sortByDate) {
          case 'newest':
            return b.createdAt.getTime() - a.createdAt.getTime();
          case 'oldest':
            return a.createdAt.getTime() - b.createdAt.getTime();
        }
      });
    }

    // Calculate pagination
    const start = (params.page - 1) * params.limit;
    const end = start + params.limit;
    const paginatedResults = filtered.slice(start, end);

    return {
      products: paginatedResults,
      total: filtered.length,
      page: params.page,
      limit: params.limit,
      totalPages: Math.ceil(filtered.length / params.limit)
    };
  }

  async getLocations(query: string): Promise<string[]> {
    return Array.from(new Set(
      mockProducts
        .map(product => product.location)
        .filter(location => 
          location.toLowerCase().includes(query.toLowerCase())
        )
    ));
  }
}
